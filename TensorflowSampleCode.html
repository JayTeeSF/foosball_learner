<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="Permissions-Policy" content="interest-cohort=()">
  <title>TensorFlow.js Ball Detection</title>
  <link rel="shortcut icon" type="image/png" href="img/favicon.png">
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@3.6.0/dist/tf.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/posenet@2.2/dist/posenet.min.js"></script>
</head>
<body>
  <img id='image' src='https://raw.githubusercontent.com/JayTeeSF/foosball_learner/main/IMG_0468.jpeg'/>
  <canvas id='output'></canvas>

  <script>
    const imageScaleFactor = 0.5;
    const outputStride = 16;
    const flipHorizontal = false;

    const imageElement = document.getElementById('image');
    const canvas = document.getElementById('output');
    const ctx = canvas.getContext('2d');

    posenet.load().then(function(net) {
      return net.estimateSinglePose(imageElement, imageScaleFactor, flipHorizontal, outputStride)
    }).then(function(pose) {
      console.log(pose);
      // Get the position of the ball
      const ballPosition = pose.keypoints[0].position;
      console.log(ballPosition);

      // Draw the pose keypoints onto the canvas
      //posenet.drawKeypoints(pose.keypoints, outputCanvas);
    });
  </script>
</body>
</html>
